# Logos (Экосистема Логосов) — AI Knowledge Base
AI-first база знаний для разработки проекта **Logos** в стиле **Spec Driven Development**.

---

## 1) Источники истины (в этом репозитории)
- **Манифест (принципы и ценности)**: `n4y.ai/logos/manifesto-ecosystem-logos-v2.1.md`
- **System Prompt (контекст для AI-созидателя)**: `n4y.ai/logos/system-prompt-logos-ecosystem-v2.1.md`
- **Техническая спецификация (архитектура слоёв и сервисов)**: `n4y.ai/logos/LOGOS_ECOSYSTEM_SPECIFICATION.md`
- **MVP Spec (регистрация → имя → общение)**: `n4y.ai/logos/MVP_IDENTITY_REGISTRATION_SPEC_v1.md`

---

## 2) Принципы разработки (обязательные)
- **Нет владельцев. Есть созидатели**: избегаем ручного контроля, “админских” процедур и закрытых правил.
- **Открытость**: спецификации, форматы, протоколы — публичны; реализация должна быть форкабельной.
- **Децентрализация как защита**: критические свойства (уникальность имён/контроль) подтверждаются on-chain.
- **Осознанность**: ограничения только формальные и проверяемые, без “ручной модерации”.

---

## 3) MVP v1 — цель и UX
**Цель MVP:** пользователь за один короткий сценарий получает Логоса и начинает взаимодействовать.

**UX-идентификатор:** пользователь видит только **handle** (например, `NEXO`).
- DID/версии/адреса/chainId скрыты (Advanced) или не показываются в MVP.

---

## 4) MVP v1 — правила имени (handle)
- **Алфавит**: Base36 `A–Z` и `0–9`
- **Нормализация**: uppercase
- **Длина**: 4–10
- **Имя по умолчанию**: автогенерация **6 символов**
- **Уникальность**: глобальная, через on-chain реестр в сети **Base**
- **Непередаваемость**: имя не является рыночным активом (transfer запрещён на уровне протокола)
- **Без привилегий**: нет “элитных/премиум”, whitelist/аукционов/ручной модерации

Если имя занято — UI предлагает несколько вариантов (3–5) и/или просит ввести другое.

---

## 5) On-chain: сеть Base и QI
### 5.1 Сеть
- **Base mainnet**
- **ChainId**: `8453`

### 5.2 Qi Energy (QI)
**Токен QI на Base mainnet:**
- **Address**: `0x29897314A089fA75AC48eb66408c91751c26c588`
- **Symbol**: `QI`
- **Decimals**: `18`

Исходники токена: `n4y.ai/tokenQI/contracts/QIEnergyToken.sol`

Примечание: QI может использоваться для экономических механизмов позже, но **MVP не должен требовать от пользователя крипту/газ**.

---

## 6) Газ без боли: Paymaster и казна (без зависимости от одного человека)
**Требование MVP:** регистрация имени on-chain не должна требовать от пользователя покупки крипты/газа.

**Решение MVP:**
- Используем **Account Abstraction + Paymaster**.
- Paymaster оплачивает газ **только** для операции регистрации имени (`registerName`).
- Финансирование paymaster идёт из **on-chain Treasury**, управляемой **2-of-3 мультисигом** (несколько созидателей).

Ключевые условия:
- без ручного allowlist/ban по пользователям;
- правила субсидии — алгоритмические и прозрачные;
- любой может форкнуть и поднять свой paymaster/казну.

---

## 7) LLM: гибридная модель
**Гибридный режим:**
- через наш LLM gateway (`llm.nlplay.ai`) **или**
- пользователь приносит свои ключи (BYOK) и использует их как считает нужным.

Важно: интерфейс должен быть единым, чтобы инструменты/логика были переносимы между managed и self-host.

---

## 8) “Как проверять, что спека собирается” (рабочий процесс)
Минимальный цикл Spec Driven Development для Logos:
1) **Spec freeze**: утверждаем документ-спеку (как `MVP_IDENTITY_REGISTRATION_SPEC_v1.md`).
2) **Acceptance Criteria**: проверяем, что критерии проверки выполнимы и однозначны.
3) **ADR** (решения, где нужен выбор): отдельными короткими ADR-файлами.
4) **Backlog from spec**: разбиваем на задачи (контракты/сервисы/UI), каждая задача должна ссылаться на пункт спеки.
5) **Demo checklist**: сценарий ручной проверки “создать → имя → общение”.

---

## 9) Архитектурные решения (ADR) — ГОТОВО

| ADR | Статус | Описание |
|-----|--------|----------|
| `ADR-001-controller.md` | ✅ | ERC-4337 smart account как контроллер |
| `ADR-002-name-registry.md` | ✅ | On-chain реестр: `keccak256(uppercase(handle)) → controller` |
| `ADR-003-paymaster-treasury.md` | ✅ | Paymaster только для `registerName`, Treasury 2-of-3 |

---

## 10) Deployment Status — Base Mainnet

### ✅ NameRegistry (LIVE)
| Параметр | Значение |
|----------|----------|
| **Адрес** | `0x96A6802D7721016bB9c1181aaf95900335734115` |
| **Сеть** | Base Mainnet (chainId: 8453) |
| **Статус** | ✅ Работает |

**Первый handle:** `MARAT` → `0xB12C128b8C0dE438AD0D4b8987FD074eF8be5B3A`

### ⏸️ Отложено
- TreasuryMultisig2of3 — требуются 3 уникальных адреса
- LogosRegisterPaymaster — зависит от Treasury

**Полная информация:** `n4y.ai/logos/DEPLOYMENT.md`

---

## 11) Исходный код контрактов

| Контракт | Путь |
|----------|------|
| NameRegistry | `n4y.ai/demo/contracts/core/NameRegistry.sol` |
| TreasuryMultisig2of3 | `n4y.ai/demo/contracts/core/TreasuryMultisig2of3.sol` |
| LogosRegisterPaymaster | `n4y.ai/demo/contracts/core/LogosRegisterPaymaster.sol` |

**Тесты:** `n4y.ai/demo/test/`

---

## 12) Следующие шаги

- [ ] Верификация контракта на BaseScan
- [ ] Подключение Web UI к реальному контракту
- [ ] Treasury + Paymaster для gasless регистрации
- [ ] `MVP_CHAT_LLM_SPEC_v1.md` (чат + гибрид LLM gateway/BYOK)


